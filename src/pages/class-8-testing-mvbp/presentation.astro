---
/**
 * Class 8: Testing Assumptions & MVBP
 * Theme 5 (Red) - How do you design & build?
 * DE Steps 20-23
 */
import PresentationLayout from '../../layouts/PresentationLayout.astro';
import TitleSlide from '../../components/presentation/TitleSlide.astro';
import StatementSlide from '../../components/presentation/StatementSlide.astro';
import TwoPartSlide from '../../components/presentation/TwoPartSlide.astro';
import StandardSlide from '../../components/presentation/StandardSlide.astro';
import IconCard from '../../components/presentation/IconCard.astro';
import TechniqueCard from '../../components/presentation/TechniqueCard.astro';
import ComparisonGrid from '../../components/presentation/ComparisonGrid.astro';
import ComparisonCard from '../../components/presentation/ComparisonCard.astro';
import Slide from '../../components/presentation/Slide.astro';

// Load narration data for captions
import narrationData from '../../content/classes/8-testing-mvbp/narration.json';
---

<PresentationLayout title="Class 8: Testing & MVBP" themeNumber={5} classNumber={8} narration={narrationData}>
    <style>
        /* Extended theme variables for this presentation */
        :root {
            --theme-color-dim: #dc2626;
            --theme-red-light: #f87171;
            --gradient-hero: linear-gradient(135deg, #dc2626 0%, var(--theme-color) 100%);
        }

        /* 2x2 Matrix */
        .matrix-container {
            display: grid;
            grid-template-columns: 50px 1fr 1fr;
            grid-template-rows: 50px 1fr 1fr;
            gap: 4px;
            max-width: 700px;
            margin: 30px auto;
            height: 400px;
        }

        .matrix-corner { background: transparent; }

        .matrix-header {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-family: var(--font-display);
        }

        .matrix-y-label {
            writing-mode: vertical-rl;
            text-orientation: mixed;
            transform: rotate(180deg);
        }

        .matrix-cell {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            opacity: 0;
            transform: scale(0.9);
            transition: all 0.4s ease;
        }

        :global(.slide.active) .matrix-cell {
            opacity: 1;
            transform: scale(1);
        }

        /* Stagger matrix cells */
        :global(.slide.active) .matrix-cell:nth-child(5) { transition-delay: 200ms; }
        :global(.slide.active) .matrix-cell:nth-child(6) { transition-delay: 350ms; }
        :global(.slide.active) .matrix-cell:nth-child(8) { transition-delay: 500ms; }
        :global(.slide.active) .matrix-cell:nth-child(9) { transition-delay: 650ms; }


        .matrix-cell.test-now {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.3) 0%, rgba(239, 68, 68, 0.1) 100%);
            border: 2px solid var(--theme-color);
        }

        .matrix-cell.monitor {
            background: rgba(34, 197, 94, 0.1);
            border: 1px solid rgba(34, 197, 94, 0.3);
        }

        .matrix-cell.test-later {
            background: rgba(234, 179, 8, 0.1);
            border: 1px solid rgba(234, 179, 8, 0.3);
        }

        .matrix-cell.ignore {
            background: rgba(100, 100, 100, 0.1);
            border: 1px solid rgba(100, 100, 100, 0.3);
        }

        .matrix-cell .label {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 8px;
            font-family: var(--font-display);
        }

        .matrix-cell.test-now .label { color: var(--theme-color); }
        .matrix-cell.monitor .label { color: var(--success-green); }
        .matrix-cell.test-later .label { color: #eab308; }
        .matrix-cell.ignore .label { color: var(--text-secondary); }

        /* Categories Grid */
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
            margin-top: 40px;
        }

        .category-card .example {
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-style: italic;
            margin-top: 5px;
        }

        /* Techniques Grid */
        .techniques-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
            margin-top: 30px;
        }

        /* Validation Ladder */
        #validation-ladder {
            width: 100%;
        }

        /* MVBP Circles */
        .mvbp-circles {
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            height: 350px;
            margin-top: 30px;
        }

        .mvbp-circle {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            font-weight: 600;
            font-size: 1.1rem;
            opacity: 0;
            font-family: var(--font-display);
            transition: all 0.6s ease;
        }

        :global(.slide.active) .mvbp-circle {
            opacity: 0.8;
            transform: scale(1);
        }

        /* Stagger circles */
        :global(.slide.active) .mvbp-circle.value { transition-delay: 200ms; }
        :global(.slide.active) .mvbp-circle.payment { transition-delay: 500ms; }
        :global(.slide.active) .mvbp-circle.feedback { transition-delay: 800ms; }
        

        .mvbp-circle.visible {
            opacity: 0.8;
            transform: scale(1);
        }

        .mvbp-circle.value {
            background: rgba(34, 197, 94, 0.3);
            border: 2px solid var(--success-green);
            left: calc(50% - 180px);
            top: 20px;
            color: var(--success-green);
        }

        .mvbp-circle.payment {
            background: rgba(239, 68, 68, 0.3);
            border: 2px solid var(--theme-color);
            left: calc(50% - 20px);
            top: 20px;
            color: var(--theme-color);
        }

        .mvbp-circle.feedback {
            background: rgba(59, 130, 246, 0.3);
            border: 2px solid #3b82f6;
            left: calc(50% - 100px);
            top: 130px;
            color: #3b82f6;
        }

        .mvbp-center {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            background: var(--dark-surface);
            border: 3px solid var(--theme-color);
            border-radius: 50%;
            width: 100px;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--theme-color);
            opacity: 0;
            font-family: var(--font-display);
            transition: all 0.6s ease;
            transition-delay: 1200ms;
        }

        :global(.slide.active) .mvbp-center {
            opacity: 1;
        }

        /* Examples Grid */
        .examples-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 25px;
            max-width: 900px;
            margin: 30px auto;
        }

        .example-card {
            background: var(--dark-surface);
            border-radius: 16px;
            padding: 25px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.4s ease;
        }

        :global(.slide.active) .example-card {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Stagger examples */
        :global(.slide.active) .example-card:nth-child(1) { transition-delay: 200ms; }
        :global(.slide.active) .example-card:nth-child(2) { transition-delay: 400ms; }
        :global(.slide.active) .example-card:nth-child(3) { transition-delay: 600ms; }
        :global(.slide.active) .example-card:nth-child(4) { transition-delay: 800ms; }


        .example-card .company {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--theme-color);
            margin-bottom: 10px;
            font-family: var(--font-display);
        }

        .example-card .description {
            font-size: 1rem;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }

        .example-card .result {
            font-size: 0.95rem;
            color: var(--success-green);
            font-style: italic;
        }

        /* Template Box */
        .template-box {
            background: var(--dark-surface);
            border: 2px solid var(--theme-color);
            border-radius: 20px;
            padding: 40px 50px;
            max-width: 800px;
            margin: 30px auto;
            font-size: 1.3rem;
            line-height: 2.2;
        }

        .template-box .placeholder {
            color: var(--theme-color);
            font-weight: 600;
        }

        /* Dropbox Counter */
        .dropbox-counter {
            text-align: center;
            margin: 30px 0;
        }

        .dropbox-counter .number {
            font-size: 4rem;
            font-weight: 800;
            color: var(--theme-color);
            font-family: var(--font-mono);
        }

        .dropbox-counter .label {
            font-size: 1.5rem;
            color: var(--text-secondary);
            margin-top: 10px;
        }

        /* Threshold items */
        .threshold-item {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 20px 25px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 20px;
            opacity: 0;
            transform: translateX(-20px);
            transition: all 0.4s ease;
        }

        :global(.slide.active) .threshold-item {
            opacity: 1;
            transform: translateX(0);
        }

        .threshold-condition {
            flex: 1;
            font-size: 1.1rem;
            color: var(--text-secondary);
        }

        .threshold-action {
            font-size: 1.1rem;
            color: var(--success-green);
            font-weight: 600;
        }

        /* Story cards */
        .story-cards {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 40px;
            max-width: 900px;
            margin: 50px auto;
        }

        .story-card {
            text-align: center;
            padding: 30px;
            background: var(--dark-surface);
            border-radius: 16px;
        }

        .story-card .emoji {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .story-card .text {
            font-size: 1.1rem;
            color: var(--text-secondary);
        }

        /* Assumption table */
        .assumption-table {
            max-width: 800px;
            margin: 30px auto;
        }

        .assumption-header {
            display: grid;
            grid-template-columns: 1fr auto auto;
            gap: 15px;
            margin-bottom: 20px;
            padding: 15px;
            background: var(--dark-surface);
            border-radius: 10px;
        }

        .assumption-header div {
            font-weight: 600;
            font-family: var(--font-display);
        }

        .assumption-row {
            display: grid;
            grid-template-columns: 1fr auto auto;
            gap: 15px;
            margin-bottom: 15px;
            padding: 15px;
            border-radius: 10px;
        }

        .assumption-row.critical {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid var(--theme-color);
        }

        .assumption-row.normal {
            background: var(--dark-surface);
        }
        
        /* Appendix */
        .testing-matrix {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            max-width: 900px;
            margin: 1.5rem auto;
        }

        .testing-method {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 1.5rem;
        }

        .testing-method h4 {
            color: var(--theme-color);
            font-size: 1.1rem;
            margin-bottom: 0.75rem;
            font-family: var(--font-display);
        }

        .testing-method p {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .testing-method .when {
            font-size: 0.85rem;
            color: var(--success-green);
            font-style: italic;
        }

        .assumption-categories {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            max-width: 900px;
            margin: 1.5rem auto;
        }

        .assumption-cat {
            background: var(--dark-surface);
            border-radius: 12px;
            padding: 1.25rem;
            text-align: center;
        }

        .assumption-cat h4 {
            color: var(--theme-color);
            font-size: 1rem;
            margin-bottom: 0.5rem;
            font-family: var(--font-display);
        }

        .assumption-cat .questions {
            font-size: 0.85rem;
            color: var(--text-secondary);
            text-align: left;
        }

        .assumption-cat .questions li {
            margin-bottom: 0.5rem;
            list-style: disc;
            margin-left: 1rem;
        }
    </style>

    <!-- Slide 1: Title -->
    <TitleSlide 
        id="1" 
        section="Opening" 
        title="Prove It"
        subtitle="Testing Assumptions & MVBP"
        info="Class 8 | DE Steps 20, 21, 22, 23"
    />

    <!-- WELCOME BACK -->
    <StatementSlide id="2" title="Welcome Back">
        Welcome back from Spring Break!
        <p class="secondary" style="margin-top: 30px;">Let's finish strong.</p>
    </StatementSlide>

    <!-- NEW THEME -->
    <StatementSlide id="3" title="Theme 5">
        Theme 5: <span class="accent">How Do You Design and Build?</span>
    </StatementSlide>

    <!-- CRITICAL SHIFT -->
    <StandardSlide id="4" title="The Critical Shift" type="visual">
        <h2 style="text-align: center; margin-bottom: 30px;">The Critical Shift</h2>
        <div class="comparison-container" style="display: grid; grid-template-columns: 1fr 1fr; gap: 60px; max-width: 1000px; margin: 30px auto;">
            <div class="comparison-side left" style="background: linear-gradient(135deg, rgba(100, 100, 100, 0.1) 0%, transparent 100%); border: 1px solid rgba(100, 100, 100, 0.3); padding: 40px; border-radius: 20px; text-align: center;">
                <h3 style="color: var(--text-secondary); font-size: 1.8rem; margin-bottom: 30px; font-family: var(--font-display);">Old Thinking</h3>
                <div style="padding: 40px 0;">
                    <p style="font-size: 2rem; color: var(--text-secondary);">"Can we build this?"</p>
                </div>
            </div>
            <div class="comparison-side right" style="background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, transparent 100%); border: 1px solid rgba(239, 68, 68, 0.3); padding: 40px; border-radius: 20px; text-align: center;">
                <h3 style="color: var(--theme-color); font-size: 1.8rem; margin-bottom: 30px; font-family: var(--font-display);">New Thinking</h3>
                <div style="padding: 40px 0;">
                    <p style="font-size: 2rem; color: var(--theme-color);">"Will people pay for this?"</p>
                </div>
            </div>
        </div>
        <p style="text-align: center; margin-top: 30px; font-size: 1.3rem; color: var(--text-secondary);">Build <span class="accent">after</span> you validate.</p>
    </StandardSlide>

    <!-- DROPBOX STORY -->
    <StandardSlide id="5" section="Story" title="Dropbox Problem" type="visual">
        <h2>2007: Drew Houston Had an Idea</h2>
        <div class="story-cards">
            <div class="story-card">
                <div class="emoji">ðŸ˜¤</div>
                <div class="text">Problem: Files not synced across devices</div>
            </div>
            <div class="story-card">
                <div class="emoji">ðŸ’¡</div>
                <div class="text">Solution: Automatic sync</div>
            </div>
            <div class="story-card">
                <div class="emoji">ðŸ˜°</div>
                <div class="text">Challenge: Complex to build</div>
            </div>
        </div>
    </StandardSlide>

    <StandardSlide id="6" title="Dropbox Test" type="visual">
        <h2>Instead of Building, He Tested</h2>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 60px; max-width: 800px; margin: 40px auto; align-items: center;">
            <div style="text-align: center;">
                <div style="font-size: 5rem; margin-bottom: 20px;">ðŸŽ¬</div>
                <p style="font-size: 1.3rem; color: var(--text-secondary);">3-minute demo video</p>
                <p style="font-size: 1rem; color: var(--text-secondary); margin-top: 10px;">Posted to Hacker News</p>
            </div>
            <div class="dropbox-counter">
                <div class="number">5,000</div>
                <div style="font-size: 2rem; color: var(--text-secondary); margin: 20px 0;">â†“</div>
                <div class="number" style="color: var(--success-green);">75,000</div>
                <div class="label">signups overnight</div>
            </div>
        </div>
        <p style="text-align: center; margin-top: 30px; font-size: 1.5rem; color: var(--theme-color); font-weight: 600;">No product. Just validation.</p>
    </StandardSlide>

    <StandardSlide id="7" title="Tonight's Mission">
        <h2>Tonight We'll Learn To...</h2>
        <ul class="content-list">
            <li>Identify what we're <strong>assuming</strong></li>
            <li><strong>Test</strong> before we build</li>
            <li>Define the Minimum Viable <strong>Business</strong> Product</li>
            <li>Prove customers will <strong>pay</strong></li>
        </ul>
    </StandardSlide>

    <!-- STEP 20: ASSUMPTIONS -->
    <StatementSlide id="8" section="Step 20" title="Step 20 Intro">
        Step 20: <span class="accent">Identify Key Assumptions</span>
    </StatementSlide>

    <StandardSlide id="9" title="Assumption Matrix" type="visual">
        <div class="matrix-container">
            <div class="matrix-corner"></div>
            <div class="matrix-header">Low Impact</div>
            <div class="matrix-header">High Impact</div>
            
            <div class="matrix-header matrix-y-label">Low Uncertainty</div>
            <div class="matrix-cell ignore">
                <div class="label">Ignore</div>
                <p>Don't waste time</p>
            </div>
            <div class="matrix-cell monitor">
                <div class="label">Monitor</div>
                <p>Keep an eye on it</p>
            </div>
            
            <div class="matrix-header matrix-y-label">High Uncertainty</div>
            <div class="matrix-cell test-later">
                <div class="label">Test Later</div>
                <p>Important but secondary</p>
            </div>
            <div class="matrix-cell test-now">
                <div class="label">TEST NOW</div>
                <p>Killers. Do this first.</p>
            </div>
        </div>
    </StandardSlide>

    <!-- STEP 21: TEST -->
    <StatementSlide id="10" section="Step 21" title="Step 21 Intro">
        Step 21: <span class="accent">Test Key Assumptions</span>
    </StatementSlide>

    <StandardSlide id="11" title="Testing Techniques" type="visual">
        <div class="techniques-grid">
            <TechniqueCard name="Landing Page" effort="low" effortLabel="Low" delay="100">
                <p>Signups = Interest</p>
            </TechniqueCard>
            <TechniqueCard name="Concierge" effort="medium" effortLabel="Medium" delay="200">
                <p>Do it manually</p>
            </TechniqueCard>
            <TechniqueCard name="Wizard of Oz" effort="medium" effortLabel="Medium" delay="300">
                <p>Fake the backend</p>
            </TechniqueCard>
            <TechniqueCard name="Crowdfunding" effort="high" effortLabel="High" delay="400">
                <p>Pre-sales</p>
            </TechniqueCard>
            <TechniqueCard name="Mockups" effort="low" effortLabel="Low" delay="500">
                <p>Visual feedback</p>
            </TechniqueCard>
            <TechniqueCard name="Letter of Intent" effort="medium" effortLabel="Medium" delay="600">
                <p>B2B Commitment</p>
            </TechniqueCard>
        </div>
    </StandardSlide>

    <!-- STEP 22: MVBP -->
    <StatementSlide id="12" section="Step 22" title="Step 22 Intro">
        Step 22: <span class="accent">Define Your MVBP</span>
    </StatementSlide>

    <TwoPartSlide id="13" title="MVP vs MVBP">
        <p class="primary">MVP vs MVBP</p>
        <p class="secondary">Minimum Viable <span class="accent">Business</span> Product</p>
        <p class="tertiary">Not just a product feature set. A business transaction.</p>
    </TwoPartSlide>

    <StandardSlide id="14" title="Three Conditions" type="visual">
        <div class="mvbp-circles">
            <div class="mvbp-circle value">Value to Customer</div>
            <div class="mvbp-circle payment">Payment to You</div>
            <div class="mvbp-circle feedback">Feedback Loop</div>
            <div class="mvbp-center">MVBP</div>
        </div>
    </StandardSlide>

    <StandardSlide id="15" title="MVBP Examples" type="visual">
        <div class="examples-grid">
            <div class="example-card">
                <div class="company">Zappos</div>
                <p class="description">Photos of shoes from local store. Bought at full price, mailed to customer.</p>
                <p class="result">Proved demand without inventory.</p>
            </div>
            <div class="example-card">
                <div class="company">Groupon</div>
                <p class="description">WordPress blog + PDF coupons emailed manually.</p>
                <p class="result">Proved "deal of the day" concept.</p>
            </div>
            <div class="example-card">
                <div class="company">Airbnb</div>
                <p class="description">Air mattress in founders' apartment + breakfast.</p>
                <p class="result">Proved strangers would stay in homes.</p>
            </div>
            <div class="example-card">
                <div class="company">Buffer</div>
                <p class="description">Landing page â†’ Pricing page â†’ "We're not ready yet"</p>
                <p class="result">Proved willingness to pay.</p>
            </div>
        </div>
    </StandardSlide>

    <!-- STEP 23: NUMBERS -->
    <StatementSlide id="16" section="Step 23" title="Step 23 Intro">
        Step 23: <span class="accent">Show the Numbers</span>
    </StatementSlide>

    <TwoPartSlide id="17" title="Dog Food">
        <p class="primary">"The dogs are eating the dog food"</p>
        <p class="secondary">Metrics prove that you're not hallucinating.</p>
    </TwoPartSlide>

    <!-- WORKSHOP -->
    <StandardSlide id="18" section="Workshop" title="Workshop: 25 Minutes">
        <ul class="content-list">
            <li>Map your assumptions (10 min)</li>
            <li>Design one test (5 min)</li>
            <li>Define your MVBP (10 min)</li>
        </ul>
    </StandardSlide>

    <!-- WRAP-UP -->
    <StandardSlide id="19" section="Closing" title="Remember">
        <ul class="content-list">
            <li>Identify highest risk assumptions</li>
            <li>Test before investing engineering time</li>
            <li>MVBP includes payment</li>
            <li>Metrics trump opinions</li>
        </ul>
    </StandardSlide>

    <StandardSlide id="20" title="Before Next Week">
        <ul class="content-list">
            <li>Run your assumption test</li>
            <li>Define MVBP features</li>
            <li>Prepare for final pitch</li>
            <li>Read: DE Chapter 23, 24</li>
        </ul>
    </StandardSlide>

    <TwoPartSlide id="21" title="Next Week">
        <p class="primary">Next Week: Scale & Pitch</p>
        <p class="secondary">Growth Strategy & Final Prep</p>
        <p class="tertiary">Bringing it all together.</p>
    </TwoPartSlide>

    <!-- APPENDIX SLIDES -->
    <Slide title="Common Startup Assumptions" appendix={true}>
        <div class="slide-content">
            <h2 style="font-family: var(--font-display); margin-bottom: 1rem;">Common Assumptions</h2>
            <div class="assumption-categories">
                <div class="assumption-cat">
                    <h4>Customer</h4>
                    <ul class="questions">
                        <li>They actually have this problem</li>
                        <li>It's painful enough to pay for</li>
                        <li>They are who we think they are</li>
                    </ul>
                </div>
                <div class="assumption-cat">
                    <h4>Product</h4>
                    <ul class="questions">
                        <li>We can build it</li>
                        <li>It will solve the problem</li>
                        <li>It works as expected</li>
                    </ul>
                </div>
                <div class="assumption-cat">
                    <h4>Market</h4>
                    <ul class="questions">
                        <li>We can reach customers</li>
                        <li>Competition won't crush us</li>
                        <li>Price point is viable</li>
                    </ul>
                </div>
            </div>
        </div>
    </Slide>

    <Slide title="Testing Matrix" appendix={true}>
        <div class="slide-content">
            <h2 style="font-family: var(--font-display); margin-bottom: 1rem;">Testing Methods</h2>
            <div class="testing-matrix">
                <div class="testing-method">
                    <h4>Smoke Test (Landing Page)</h4>
                    <p>Drive traffic to a page value prop. Measure click-throughs or signups.</p>
                    <p class="when">Best for: Measuring interest and messaging.</p>
                </div>
                <div class="testing-method">
                    <h4>Concierge MVP</h4>
                    <p>Deliver the value manually with high touch, no code.</p>
                    <p class="when">Best for: B2B, service-heavy ideas.</p>
                </div>
                <div class="testing-method">
                    <h4>Wizard of Oz</h4>
                    <p>Front-end looks automated, humans do the work behind the scenes.</p>
                    <p class="when">Best for: Marketplaces, complex algorithms.</p>
                </div>
                <div class="testing-method">
                    <h4>Crowdfunding</h4>
                    <p>Pre-sell product on Kickstarter/Indiegogo.</p>
                    <p class="when">Best for: Consumer hardware/products.</p>
                </div>
            </div>
        </div>
    </Slide>

    <script is:inline src="/class-8-testing-mvbp/scripts.js"></script>
</PresentationLayout>
